{"version":3,"sources":["components/Filter.js","components/HandleChange.js","components/FormPerson.js","components/ButtonDelete.js","components/Person.js","components/ListPerson.js","services/persons/persons.js","components/Notification.js","App.js","index.js"],"names":["Filter","newSearch","handleChangeSearch","value","onChange","HandleChange","handleChange","FormPerson","handleSubmit","handleChangeName","handleChangeNumber","newName","newNumber","onSubmit","type","ButtonDelete","handleDelete","onClick","Person","name","number","deletePerson","className","ListPersons","persons","handleDeletePerson","filter","person","toLowerCase","includes","map","id","baseUrl","exportedService","getAll","a","request","axios","get","response","data","create","newPerson","post","update","numberUpdate","patch","delete","Notification","message","App","useState","setPersons","setNewName","setNewNumber","setNewSearch","notificationMessage","setNotificationMessage","useEffect","personService","then","prevPersons","concat","endNotification","setTimeout","event","target","preventDefault","length","window","confirm","previousPerson","find","updatedNumber","catch","error","console","ListPerson","alert","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.a205ccc3.chunk.js","sourcesContent":["import React from 'react'\n\nexport const Filter = ({ newSearch, handleChangeSearch }) => {\n    return (\n        <form>\n        filter shown with \n        <input\n            value={newSearch}\n            onChange={handleChangeSearch} />\n            <br />\n        </form> \n    ) \n}\n\nexport default Filter;","const HandleChange = ({ handleChange, value }) => {\n    return <input onChange={handleChange} value={value} />\n  }\n\n  export default HandleChange","import HandleChange from \"./HandleChange\"\n\nconst FormPerson = ({ handleSubmit, handleChangeName, handleChangeNumber, newName, newNumber }) => {\n    return (\n        <form onSubmit={handleSubmit}>\n        <div>\n          name: <HandleChange handleChange={handleChangeName} value={newName} />\n          number: <HandleChange handleChange={handleChangeNumber} value={newNumber} />\n        </div> \n        <div>\n          <button type=\"submit\">add</button>\n        </div>\n      </form>\n    )\n}\n\n\nexport default FormPerson","export const ButtonDelete = ({ handleDelete }) => {\n    return (\n        <button onClick={handleDelete}>\n            delete\n        </button>\n    )\n}","import { ButtonDelete } from \"./ButtonDelete\";\n\nexport const Person = ({ name, number, deletePerson }) => {\n    return (\n        <li className='person'>\n            {name} \n            {number}\n            <ButtonDelete handleDelete={deletePerson}/>\n        </li>\n    )\n}\n\nexport default Person;","import Person from \"./Person\";\n\nconst ListPersons = ({ persons, newSearch, handleDeletePerson }) => {\n\n    return (\n        <ul>\n            {persons.filter(person => person.name.toLowerCase().includes(newSearch.toLowerCase())).map(person => (\n            <Person key={person.id} name={person.name} number={person.number} deletePerson={handleDeletePerson(person.name, person.id)} /> ))}\n        </ul> \n    ) \n}\n\nexport default ListPersons","import axios from \"axios\";\n\nconst baseUrl = '/api/persons'\n\nconst getAll = async () => {\n    const request = axios.get(baseUrl)\n    const response = await request;\n    return response.data;\n}\n\nconst create = async (newPerson) => {\n    const request = axios.post(baseUrl, newPerson)\n    const response = await request;\n    return response.data;\n}\n\nconst update = async (id, newNumber) => {\n    const numberUpdate = { number : newNumber };\n    const request = axios.patch(`${baseUrl}/${id}`, numberUpdate)\n    const response = await request;\n    return response.data;\n}\n\nconst deletePerson = async (id) => {\n    const request = axios.delete(`${baseUrl}/${id}`)\n    const response = await request;\n    return response.data;\n}\n\nconst exportedService = {\n    getAll,\n    create,\n    update,\n    deletePerson\n}\n\n\nexport default exportedService","export const Notification = ({ message }) => {\n    if (message === null) {\n      return null\n    }\n  \n    return (\n      <div className=\"notification\">\n        {message}\n      </div>\n    )\n  }","import { useState, useEffect } from 'react';\nimport Filter from './components/Filter'\nimport FormPerson from './components/FormPerson';\nimport ListPerson from './components/ListPerson'\nimport personService from './services/persons/persons';\nimport { Notification } from './components/Notification';\n\nconst App = () => {\n  const [persons, setPersons] = useState([]) \n  const [newName, setNewName] = useState(\"\")\n  const [newNumber, setNewNumber] = useState(\"\")\n  const [newSearch, setNewSearch] = useState(\"\")\n  const [notificationMessage, setNotificationMessage] = useState(null)\n \n  useEffect(() => {\n    personService.getAll()\n      .then(persons => {\n        setPersons(prevPersons => prevPersons.concat(persons))\n      })\n  }, [])\n  \n\n  const handleChangeName = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handleChangeNumber = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const handleChangeSearch = (event) => {\n    setNewSearch(event.target.value)\n  }\n\n  const endNotification = () => { \n    setTimeout(()=> {\n        setNotificationMessage(null)\n      }, 3000)\n  }\n\n  const addPerson = (event) => {\n    event.preventDefault()\n\n    const newPerson = {\n      name: newName,\n      number: newNumber\n    }\n\n    if (persons.filter(person => person.name === newPerson.name).length > 0) {\n      if(window.confirm(newName + ' is already added to phonebook, replace the old number with a new one?')){\n        const previousPerson = persons.find(person => person.name === newName);\n\n        personService.update(previousPerson.id, newNumber)\n            .then(updatedNumber => {\n                setPersons(persons.map(\n                    person => (person.name === newName ? updatedNumber : person)\n                ))\n                setNotificationMessage(newName + \" changed his number to \" + newNumber);\n                endNotification();\n            })\n            .catch((error) => {\n                console.error(error);\n            })\n      };\n    }\n\n    else{\n      personService.create(newPerson)\n        .then(newPerson => {\n          setPersons((prevPersons) => prevPersons.concat(newPerson))\n    \n          setNotificationMessage(newName + \" was succesfully added\");\n          endNotification();\n          \n          setNewName(\"\");\n          setNewNumber(\"\");\n        })\n        .catch((error) => {\n          console.error(error);\n        })\n    }\n  }\n\n  const handleDeletePerson = (name, id) => {\n    return () => {\n        if(window.confirm(\"Delete \" + name + \" ?\")){\n            personService.deletePerson(id)\n                .then(() => {\n                    setPersons(persons.filter(person => person.id !== id));\n                    window.alert(\"Deleted: \" + name);\n                    setNewName(\"\");\n                    setNewNumber(\"\"); \n                })\n                .catch(error => {\n                    console.error(error);\n                })\n        }\n    }\n  }\n\n\n  return (\n    <div>\n      <h1 className='title'>Phonebook</h1>\n      <Filter newSearch={newSearch} handleChangeSearch={handleChangeSearch} />\n      <Notification message={notificationMessage} />\n\n      <h2>Add a new person</h2>\n      <FormPerson \n        handleSubmit={addPerson}\n        handleChangeName={handleChangeName}\n        handleChangeNumber={handleChangeNumber}\n        newName={newName}\n        newNumber={newNumber}\n      />\n\n      <h2>Numbers</h2>\n      <ListPerson\n        persons={persons}\n        newSearch={newSearch}\n        handleDeletePerson={handleDeletePerson}\n      />\n    </div>\n  )\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App'\nimport './css/styles.css'\n\n\nReactDOM.render(\n    <App />,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}